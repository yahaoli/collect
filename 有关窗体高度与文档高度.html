<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="Author" content="">
    <meta name="Keywords" content="">
    <meta name="Description" content="">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="Cache-Control" content="no-cache">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
    <meta name="MobileOptimized" content="320">
    <title>Document</title>

    <style type="text/css">
        *{
            margin: 0;
            padding: 0;
        }
        .test
        {
            width:100px;
            height:100px;
            background:red;
            margin-top: 500px;
        }
        .test1{
            width:100px;
            height:100px;
            background:green;
            margin-top: 500px;
        }
        #data
        {
            width:200px;
            height:100px;
        }
    </style>
</head>
<body>
<div  class="test">test</div>
<span onclick="test11()">1234</span>
<div id="test" class="test">test</div>
<div id="data"></div>
<div id="test1" class="test">test</div>
<script type="text/javascript">
//    var test=document.getElementById('test');
//    console.log(test.offsetTop);
    var w=window.innerWidth
        || document.documentElement.clientWidth
        || document.body.clientWidth;
    var h=window.innerHeight
        || document.documentElement.clientHeight
        || document.body.clientHeight;
//    window.onscroll=function () {
//        var scrollTop = window.pageYOffset|| document.documentElement.scrollTop || document.body.scrollTop;
//        if(scrollTop+h-200>test.offsetTop){
//            console.log(1);
//            test.className='';
//            test.className='test1'
//        }else {
//            test.className='test'
//        }
//    }
//滚动条在Y轴上的滚动距离
function getScrollTop(){
    var scrollTop = 0, bodyScrollTop = 0, documentScrollTop = 0;
    if(document.body){
        bodyScrollTop = document.body.scrollTop;
    }
    if(document.documentElement){
        documentScrollTop = document.documentElement.scrollTop;
    }
    scrollTop = (bodyScrollTop - documentScrollTop > 0) ? bodyScrollTop : documentScrollTop;
    return scrollTop;
}
//文档的总高度
function getScrollHeight(){
    var scrollHeight = 0, bodyScrollHeight = 0, documentScrollHeight = 0;
    if(document.body){
        bodyScrollHeight = document.body.scrollHeight;
    }
    if(document.documentElement){
        documentScrollHeight = document.documentElement.scrollHeight;
    }
    scrollHeight = (bodyScrollHeight - documentScrollHeight > 0) ? bodyScrollHeight : documentScrollHeight;
    return scrollHeight;
}
//浏览器视口的高度
function getWindowHeight(){
    var windowHeight = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;
    return windowHeight;
}
var a=getScrollTop();
function test11() {
console.log(a+getWindowHeight())
}
window.onscroll = function(){
    console.log(getScrollTop())
    if(getScrollTop()>a){
        a=getScrollTop();
    }
//    if(getScrollTop() + getWindowHeight() === getScrollHeight()){
//        alert("you are in the bottom!");
//    }
};
    var data = document.getElementById('data');
    data.innerHTML = "正常文档流情况："+"<br/>";
    data.innerHTML += "h="+h+"<br/>";
    data.innerHTML += "w="+w+"<br/>";
    data.innerHTML += "document.body.clientHeight="+document.body.clientHeight+"<br/>";
    data.innerHTML += "document.body.scrollHeight="+document.body.scrollHeight+"<br/>";
    data.innerHTML += "document.body.clientWidth="+document.body.clientWidth+"<br/>";
    data.innerHTML += "window.innerWidth="+window.innerWidth+"<br/>";
    data.innerHTML += "window.innerHeight="+window.innerHeight+"<br/>";
    data.innerHTML += "document.documentElement.clientHeight="+document.documentElement.clientHeight+"<br/>";
    data.innerHTML += "document.documentElement.clientWidth="+document.documentElement.clientWidth+"<br/>";
</script>
</body>
</html>
