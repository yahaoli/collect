!function(s){"use strict";s.fn.transitionEnd=function(t){var n,o=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],e=this;function a(i){if(i.target===this)for(t.call(this,i),n=0;n<o.length;n++)e.off(o[n],a)}if(t)for(n=0;n<o.length;n++)e.on(o[n],a);return this};var n=function(i,t){t=t||"weui-toast--text";s("<div class='weui-mask_transparent'></div>").appendTo(document.body);var n=s('<div class="weui-toast '+t+'">'+i+"</div>").appendTo(document.body);n.addClass("weui-toast--visible"),n.show()},o=function(){s(".weui-mask_transparent").remove();var i=!1,t=s(".weui-toast--visible").removeClass("weui-toast--visible").transitionEnd(function(){s(this).remove(),i=!0});setTimeout(function(){i||t.remove()},1e3)};s.toast=function(i,t){n(i),t=t||1500,setTimeout(function(){o()},t)},s.modal=function(n,i){var o=(n=s.extend({},l,n)).buttons,t=o.map(function(i,t){return'<a href="javascript:;" class="weui-dialog__btn '+(i.className||"")+'">'+i.text+"</a>"}).join(""),e='<div class="weui-dialog"><div class="weui-dialog__hd"><strong class="weui-dialog__title">'+n.title+"</strong></div>"+(n.text?'<div class="weui-dialog__bd">'+n.text+"</div>":"")+'<div class="weui-dialog__ft">'+t+"</div></div>",a=s.openModal(e,i);return a.find(".weui-dialog__btn").each(function(i,t){s(t).click(function(){n.autoClose&&s.closeModal(),o[i].onClick&&o[i].onClick.call(a)})}),a},s.openModal=function(i,t){var n=s("<div class='weui-mask'></div>").appendTo(document.body);n.show();var o=s(i).appendTo(document.body);return t&&o.transitionEnd(function(){t.call(o)}),o.show(),n.addClass("weui-mask--visible"),o.addClass("weui-dialog--visible"),o},s.closeModal=function(){s(".weui-mask--visible").removeClass("weui-mask--visible").transitionEnd(function(){s(this).remove()}),s(".weui-dialog--visible").removeClass("weui-dialog--visible").transitionEnd(function(){s(this).remove()})},s.confirm=function(i,t,n,o){var e;return e="object"==typeof i?i:("function"==typeof t&&(o=arguments[2],n=arguments[1],t=void 0),{text:i,title:t,onOK:n,onCancel:o}),s.modal({text:e.text,title:e.title,buttons:[{text:l.buttonCancel,className:"default",onClick:e.onCancel},{text:l.buttonOK,className:"primary",onClick:e.onOK}]})};var l=s.modal.prototype.defaults={title:"提示",text:void 0,buttonOK:"确定",buttonCancel:"取消",buttons:[{text:"确定",className:"primary"}],autoClose:!0};s.showLoading=function(i){n('<div class="weui_loading"><i class="weui-loading weui-icon_toast"></i></div>',"weui_loading_toast")},s.hideLoading=function(){o()}}($);